{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Chromecast = registerPlugin('Chromecast', {\n    web: () => import('./web').then(m => new m.ChromecastWeb()),\n});\nexport * from './definitions';\nexport { Chromecast };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class ChromecastWeb extends WebPlugin {\n    async initialize(options) {\n        const script = document.createElement('script');\n        script.setAttribute('type', 'text/javascript');\n        script.setAttribute('src', 'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1');\n        document.body.appendChild(script);\n        return new Promise((resolve, reject) => {\n            window.__onGCastApiAvailable = (isAvailable) => {\n                if (isAvailable) {\n                    this.cast = window.chrome.cast;\n                    const sessionRequest = new this.cast.SessionRequest((options === null || options === void 0 ? void 0 : options.appId) || this.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID);\n                    const apiConfig = new this.cast.ApiConfig(sessionRequest, () => {\n                        // Session listener\n                    }, () => {\n                        // Receiver listener\n                    });\n                    this.cast.initialize(apiConfig, () => resolve(), (err) => reject(err));\n                }\n                else {\n                    reject(new Error('Cast API not available'));\n                }\n            };\n        });\n    }\n    async requestSession() {\n        return new Promise((resolve, reject) => {\n            this.cast.requestSession((session) => {\n                this.session = session;\n                resolve(this.createSessionObject(session));\n            }, (err) => reject(err));\n        });\n    }\n    async launchMedia(options) {\n        if (!this.session) {\n            throw new Error('No active session');\n        }\n        const mediaInfo = new this.cast.media.MediaInfo(options.mediaUrl);\n        const request = new this.cast.media.LoadRequest(mediaInfo);\n        return new Promise((resolve, reject) => {\n            this.session.loadMedia(request, () => resolve({ success: true }), (err) => reject(err));\n        });\n    }\n    async loadMedia(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async loadMediaWithHeaders(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async mediaPause() {\n        throw new Error('Web implementation not available');\n    }\n    async mediaPlay() {\n        throw new Error('Web implementation not available');\n    }\n    async mediaSeek(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async mediaNext() {\n        throw new Error('Web implementation not available');\n    }\n    async mediaPrev() {\n        throw new Error('Web implementation not available');\n    }\n    async sessionStop() {\n        if (this.session) {\n            this.session.stop();\n            this.session = null;\n        }\n    }\n    async sessionLeave() {\n        if (this.session) {\n            this.session.leave();\n            this.session = null;\n        }\n    }\n    async startRouteScan(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async stopRouteScan() {\n        throw new Error('Web implementation not available');\n    }\n    async selectRoute(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async sendMessage(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async addMessageListener(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async networkDiagnostic() {\n        return {\n            networkConnected: navigator.onLine,\n            networkType: 'unknown',\n            isWiFi: true,\n            castConnectionAvailable: !!this.cast,\n        };\n    }\n    createSessionObject(session) {\n        var _a, _b, _c, _d, _e, _f;\n        return {\n            appId: session.appId || '',\n            sessionId: session.sessionId || '',\n            receiver: {\n                friendlyName: ((_a = session.receiver) === null || _a === void 0 ? void 0 : _a.friendlyName) || '',\n                label: ((_b = session.receiver) === null || _b === void 0 ? void 0 : _b.label) || '',\n                volume: {\n                    level: ((_d = (_c = session.receiver) === null || _c === void 0 ? void 0 : _c.volume) === null || _d === void 0 ? void 0 : _d.level) || 0,\n                    muted: ((_f = (_e = session.receiver) === null || _e === void 0 ? void 0 : _e.volume) === null || _f === void 0 ? void 0 : _f.muted) || false,\n                },\n            },\n            media: [],\n        };\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}