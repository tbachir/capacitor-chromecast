{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Chromecast = registerPlugin('Chromecast', {\n    web: () => import('./web').then(m => new m.ChromecastWeb()),\n});\nexport * from './definitions';\nexport { Chromecast };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class ChromecastWeb extends WebPlugin {\n    async initialize(options) {\n        const script = document.createElement('script');\n        script.setAttribute('type', 'text/javascript');\n        script.setAttribute('src', 'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1');\n        document.body.appendChild(script);\n        return new Promise((resolve, reject) => {\n            window.__onGCastApiAvailable = (isAvailable) => {\n                if (isAvailable) {\n                    this.cast = window.chrome.cast;\n                    const sessionRequest = new this.cast.SessionRequest((options === null || options === void 0 ? void 0 : options.appId) || this.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID);\n                    const apiConfig = new this.cast.ApiConfig(sessionRequest, () => {\n                        // Session listener\n                    }, () => {\n                        // Receiver listener\n                    });\n                    this.cast.initialize(apiConfig, () => resolve(), (err) => reject(err));\n                }\n                else {\n                    reject(new Error('Cast API not available'));\n                }\n            };\n        });\n    }\n    async requestSession() {\n        return new Promise((resolve, reject) => {\n            this.cast.requestSession((session) => {\n                this.session = session;\n                resolve(this.createSessionObject(session));\n            }, (err) => reject(err));\n        });\n    }\n    async launchMedia(options) {\n        if (!this.session) {\n            throw new Error('No active session');\n        }\n        const mediaInfo = new this.cast.media.MediaInfo(options.mediaUrl);\n        const request = new this.cast.media.LoadRequest(mediaInfo);\n        return new Promise((resolve, reject) => {\n            this.session.loadMedia(request, () => resolve({ success: true }), (err) => reject(err));\n        });\n    }\n    async loadMedia(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async loadMediaWithHeaders(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async mediaPause() {\n        throw new Error('Web implementation not available');\n    }\n    async mediaPlay() {\n        throw new Error('Web implementation not available');\n    }\n    async mediaSeek(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async mediaNext() {\n        throw new Error('Web implementation not available');\n    }\n    async mediaPrev() {\n        throw new Error('Web implementation not available');\n    }\n    async sessionStop() {\n        if (this.session) {\n            this.session.stop();\n            this.session = null;\n        }\n    }\n    async sessionLeave() {\n        if (this.session) {\n            this.session.leave();\n            this.session = null;\n        }\n    }\n    async startRouteScan(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async stopRouteScan() {\n        throw new Error('Web implementation not available');\n    }\n    async selectRoute(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async sendMessage(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async addMessageListener(_options) {\n        throw new Error('Web implementation not available');\n    }\n    async networkDiagnostic() {\n        return {\n            networkConnected: navigator.onLine,\n            networkType: 'unknown',\n            isWiFi: true,\n            castConnectionAvailable: !!this.cast,\n        };\n    }\n    createSessionObject(session) {\n        var _a, _b, _c, _d, _e, _f;\n        return {\n            appId: session.appId || '',\n            sessionId: session.sessionId || '',\n            receiver: {\n                friendlyName: ((_a = session.receiver) === null || _a === void 0 ? void 0 : _a.friendlyName) || '',\n                label: ((_b = session.receiver) === null || _b === void 0 ? void 0 : _b.label) || '',\n                volume: {\n                    level: ((_d = (_c = session.receiver) === null || _c === void 0 ? void 0 : _c.volume) === null || _d === void 0 ? void 0 : _d.level) || 0,\n                    muted: ((_f = (_e = session.receiver) === null || _e === void 0 ? void 0 : _e.volume) === null || _f === void 0 ? void 0 : _f.muted) || false,\n                },\n            },\n            media: [],\n        };\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}